(this["webpackJsonpfood-marked-dapp"]=this["webpackJsonpfood-marked-dapp"]||[]).push([[0],{108:function(f){f.exports=JSON.parse('{"Marketplace":"0xA5013FA7276Ab9132cc25F8dE86fEbD7cdb7771d","TokenAddress":"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1","TokenSymbol":"cUSD"}')},289:function(f){f.exports=JSON.parse('{"abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]}')},479:function(f){f.exports=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"Marketplace","sourceName":"contracts/Marketplace.sol","abi":[{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"buyProduct","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getProductsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"readProduct","outputs":[{"internalType":"address payable","name":"","type":"address"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_image","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"string","name":"_location","type":"string"},{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"writeProduct","outputs":[],"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x60806040526000805534801561001457600080fd5b50604051610fff380380610fff83398181016040528101906100369190610092565b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610104565b60008151905061008c816100ed565b92915050565b6000602082840312156100a457600080fd5b60006100b28482850161007d565b91505092915050565b60006100c6826100cd565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6100f6816100bb565b811461010157600080fd5b50565b610eec806101136000396000f3fe60806040526004361061003f5760003560e01c80631155dfe5146100445780638642269e1461006f5780638da8f27b1461008b578063fffa7e2e146100b4575b600080fd5b34801561005057600080fd5b506100596100f7565b6040516100669190610b8d565b60405180910390f35b610089600480360381019061008491906109a7565b610100565b005b34801561009757600080fd5b506100b260048036038101906100ad91906108d0565b610311565b005b3480156100c057600080fd5b506100db60048036038101906100d691906109a7565b610461565b6040516100ee9796959493929190610a8b565b60405180910390f35b60008054905090565b600073ffffffffffffffffffffffffffffffffffffffff166002600083815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156101a6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161019d90610b6d565b60405180910390fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd336002600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660026000868152602001908152602001600020600501546040518463ffffffff1660e01b815260040161025193929190610b16565b602060405180830381600087803b15801561026b57600080fd5b505af115801561027f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102a391906108a7565b6102e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102d990610b4d565b60405180910390fd5b60026000828152602001908152602001600020600601600081548092919061030990610d4f565b919050555050565b60006040518060e001604052803373ffffffffffffffffffffffffffffffffffffffff16815260200187815260200186815260200185815260200184815260200183815260200182815250600260008054815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010190805190602001906103d3929190610772565b5060408201518160020190805190602001906103f0929190610772565b50606082015181600301908051906020019061040d929190610772565b50608082015181600401908051906020019061042a929190610772565b5060a0820151816005015560c0820151816006015590505060008081548092919061045490610d4f565b9190505550505050505050565b60006060806060806000806002600089815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260008a8152602001908152602001600020600101600260008b8152602001908152602001600020600201600260008c8152602001908152602001600020600301600260008d8152602001908152602001600020600401600260008e815260200190815260200160002060050154600260008f81526020019081526020016000206006015485805461053590610cec565b80601f016020809104026020016040519081016040528092919081815260200182805461056190610cec565b80156105ae5780601f10610583576101008083540402835291602001916105ae565b820191906000526020600020905b81548152906001019060200180831161059157829003601f168201915b505050505095508480546105c190610cec565b80601f01602080910402602001604051908101604052809291908181526020018280546105ed90610cec565b801561063a5780601f1061060f5761010080835404028352916020019161063a565b820191906000526020600020905b81548152906001019060200180831161061d57829003601f168201915b5050505050945083805461064d90610cec565b80601f016020809104026020016040519081016040528092919081815260200182805461067990610cec565b80156106c65780601f1061069b576101008083540402835291602001916106c6565b820191906000526020600020905b8154815290600101906020018083116106a957829003601f168201915b505050505093508280546106d990610cec565b80601f016020809104026020016040519081016040528092919081815260200182805461070590610cec565b80156107525780601f1061072757610100808354040283529160200191610752565b820191906000526020600020905b81548152906001019060200180831161073557829003601f168201915b505050505092509650965096509650965096509650919395979092949650565b82805461077e90610cec565b90600052602060002090601f0160209004810192826107a057600085556107e7565b82601f106107b957805160ff19168380011785556107e7565b828001600101855582156107e7579182015b828111156107e65782518255916020019190600101906107cb565b5b5090506107f491906107f8565b5090565b5b808211156108115760008160009055506001016107f9565b5090565b600061082861082384610bcd565b610ba8565b90508281526020810184848401111561084057600080fd5b61084b848285610caa565b509392505050565b60008151905061086281610e88565b92915050565b600082601f83011261087957600080fd5b8135610889848260208601610815565b91505092915050565b6000813590506108a181610e9f565b92915050565b6000602082840312156108b957600080fd5b60006108c784828501610853565b91505092915050565b600080600080600060a086880312156108e857600080fd5b600086013567ffffffffffffffff81111561090257600080fd5b61090e88828901610868565b955050602086013567ffffffffffffffff81111561092b57600080fd5b61093788828901610868565b945050604086013567ffffffffffffffff81111561095457600080fd5b61096088828901610868565b935050606086013567ffffffffffffffff81111561097d57600080fd5b61098988828901610868565b925050608061099a88828901610892565b9150509295509295909350565b6000602082840312156109b957600080fd5b60006109c784828501610892565b91505092915050565b6109d981610c74565b82525050565b6109e881610c2c565b82525050565b6109f781610c1a565b82525050565b6000610a0882610bfe565b610a128185610c09565b9350610a22818560208601610cb9565b610a2b81610e25565b840191505092915050565b6000610a43601083610c09565b9150610a4e82610e36565b602082019050919050565b6000610a66601683610c09565b9150610a7182610e5f565b602082019050919050565b610a8581610c6a565b82525050565b600060e082019050610aa0600083018a6109df565b8181036020830152610ab281896109fd565b90508181036040830152610ac681886109fd565b90508181036060830152610ada81876109fd565b90508181036080830152610aee81866109fd565b9050610afd60a0830185610a7c565b610b0a60c0830184610a7c565b98975050505050505050565b6000606082019050610b2b60008301866109ee565b610b3860208301856109d0565b610b456040830184610a7c565b949350505050565b60006020820190508181036000830152610b6681610a36565b9050919050565b60006020820190508181036000830152610b8681610a59565b9050919050565b6000602082019050610ba26000830184610a7c565b92915050565b6000610bb2610bc3565b9050610bbe8282610d1e565b919050565b6000604051905090565b600067ffffffffffffffff821115610be857610be7610df6565b5b610bf182610e25565b9050602081019050919050565b600081519050919050565b600082825260208201905092915050565b6000610c2582610c4a565b9050919050565b6000610c3782610c4a565b9050919050565b60008115159050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6000610c7f82610c86565b9050919050565b6000610c9182610c98565b9050919050565b6000610ca382610c4a565b9050919050565b82818337600083830152505050565b60005b83811015610cd7578082015181840152602081019050610cbc565b83811115610ce6576000848401525b50505050565b60006002820490506001821680610d0457607f821691505b60208210811415610d1857610d17610dc7565b5b50919050565b610d2782610e25565b810181811067ffffffffffffffff82111715610d4657610d45610df6565b5b80604052505050565b6000610d5a82610c6a565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415610d8d57610d8c610d98565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b7f5472616e73666572206661696c65642e00000000000000000000000000000000600082015250565b7f50726f6475637420646f65736e27742065786973742e00000000000000000000600082015250565b610e9181610c3e565b8114610e9c57600080fd5b50565b610ea881610c6a565b8114610eb357600080fd5b5056fea26469706673582212204a2b77ab74613e5eeae6f2815daf6a0d127dc83b2a7b2f730555b303415f7a0e64736f6c63430008040033","deployedBytecode":"0x60806040526004361061003f5760003560e01c80631155dfe5146100445780638642269e1461006f5780638da8f27b1461008b578063fffa7e2e146100b4575b600080fd5b34801561005057600080fd5b506100596100f7565b6040516100669190610b8d565b60405180910390f35b610089600480360381019061008491906109a7565b610100565b005b34801561009757600080fd5b506100b260048036038101906100ad91906108d0565b610311565b005b3480156100c057600080fd5b506100db60048036038101906100d691906109a7565b610461565b6040516100ee9796959493929190610a8b565b60405180910390f35b60008054905090565b600073ffffffffffffffffffffffffffffffffffffffff166002600083815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156101a6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161019d90610b6d565b60405180910390fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd336002600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660026000868152602001908152602001600020600501546040518463ffffffff1660e01b815260040161025193929190610b16565b602060405180830381600087803b15801561026b57600080fd5b505af115801561027f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102a391906108a7565b6102e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102d990610b4d565b60405180910390fd5b60026000828152602001908152602001600020600601600081548092919061030990610d4f565b919050555050565b60006040518060e001604052803373ffffffffffffffffffffffffffffffffffffffff16815260200187815260200186815260200185815260200184815260200183815260200182815250600260008054815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010190805190602001906103d3929190610772565b5060408201518160020190805190602001906103f0929190610772565b50606082015181600301908051906020019061040d929190610772565b50608082015181600401908051906020019061042a929190610772565b5060a0820151816005015560c0820151816006015590505060008081548092919061045490610d4f565b9190505550505050505050565b60006060806060806000806002600089815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260008a8152602001908152602001600020600101600260008b8152602001908152602001600020600201600260008c8152602001908152602001600020600301600260008d8152602001908152602001600020600401600260008e815260200190815260200160002060050154600260008f81526020019081526020016000206006015485805461053590610cec565b80601f016020809104026020016040519081016040528092919081815260200182805461056190610cec565b80156105ae5780601f10610583576101008083540402835291602001916105ae565b820191906000526020600020905b81548152906001019060200180831161059157829003601f168201915b505050505095508480546105c190610cec565b80601f01602080910402602001604051908101604052809291908181526020018280546105ed90610cec565b801561063a5780601f1061060f5761010080835404028352916020019161063a565b820191906000526020600020905b81548152906001019060200180831161061d57829003601f168201915b5050505050945083805461064d90610cec565b80601f016020809104026020016040519081016040528092919081815260200182805461067990610cec565b80156106c65780601f1061069b576101008083540402835291602001916106c6565b820191906000526020600020905b8154815290600101906020018083116106a957829003601f168201915b505050505093508280546106d990610cec565b80601f016020809104026020016040519081016040528092919081815260200182805461070590610cec565b80156107525780601f1061072757610100808354040283529160200191610752565b820191906000526020600020905b81548152906001019060200180831161073557829003601f168201915b505050505092509650965096509650965096509650919395979092949650565b82805461077e90610cec565b90600052602060002090601f0160209004810192826107a057600085556107e7565b82601f106107b957805160ff19168380011785556107e7565b828001600101855582156107e7579182015b828111156107e65782518255916020019190600101906107cb565b5b5090506107f491906107f8565b5090565b5b808211156108115760008160009055506001016107f9565b5090565b600061082861082384610bcd565b610ba8565b90508281526020810184848401111561084057600080fd5b61084b848285610caa565b509392505050565b60008151905061086281610e88565b92915050565b600082601f83011261087957600080fd5b8135610889848260208601610815565b91505092915050565b6000813590506108a181610e9f565b92915050565b6000602082840312156108b957600080fd5b60006108c784828501610853565b91505092915050565b600080600080600060a086880312156108e857600080fd5b600086013567ffffffffffffffff81111561090257600080fd5b61090e88828901610868565b955050602086013567ffffffffffffffff81111561092b57600080fd5b61093788828901610868565b945050604086013567ffffffffffffffff81111561095457600080fd5b61096088828901610868565b935050606086013567ffffffffffffffff81111561097d57600080fd5b61098988828901610868565b925050608061099a88828901610892565b9150509295509295909350565b6000602082840312156109b957600080fd5b60006109c784828501610892565b91505092915050565b6109d981610c74565b82525050565b6109e881610c2c565b82525050565b6109f781610c1a565b82525050565b6000610a0882610bfe565b610a128185610c09565b9350610a22818560208601610cb9565b610a2b81610e25565b840191505092915050565b6000610a43601083610c09565b9150610a4e82610e36565b602082019050919050565b6000610a66601683610c09565b9150610a7182610e5f565b602082019050919050565b610a8581610c6a565b82525050565b600060e082019050610aa0600083018a6109df565b8181036020830152610ab281896109fd565b90508181036040830152610ac681886109fd565b90508181036060830152610ada81876109fd565b90508181036080830152610aee81866109fd565b9050610afd60a0830185610a7c565b610b0a60c0830184610a7c565b98975050505050505050565b6000606082019050610b2b60008301866109ee565b610b3860208301856109d0565b610b456040830184610a7c565b949350505050565b60006020820190508181036000830152610b6681610a36565b9050919050565b60006020820190508181036000830152610b8681610a59565b9050919050565b6000602082019050610ba26000830184610a7c565b92915050565b6000610bb2610bc3565b9050610bbe8282610d1e565b919050565b6000604051905090565b600067ffffffffffffffff821115610be857610be7610df6565b5b610bf182610e25565b9050602081019050919050565b600081519050919050565b600082825260208201905092915050565b6000610c2582610c4a565b9050919050565b6000610c3782610c4a565b9050919050565b60008115159050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6000610c7f82610c86565b9050919050565b6000610c9182610c98565b9050919050565b6000610ca382610c4a565b9050919050565b82818337600083830152505050565b60005b83811015610cd7578082015181840152602081019050610cbc565b83811115610ce6576000848401525b50505050565b60006002820490506001821680610d0457607f821691505b60208210811415610d1857610d17610dc7565b5b50919050565b610d2782610e25565b810181811067ffffffffffffffff82111715610d4657610d45610df6565b5b80604052505050565b6000610d5a82610c6a565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415610d8d57610d8c610d98565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b7f5472616e73666572206661696c65642e00000000000000000000000000000000600082015250565b7f50726f6475637420646f65736e27742065786973742e00000000000000000000600082015250565b610e9181610c3e565b8114610e9c57600080fd5b50565b610ea881610c6a565b8114610eb357600080fd5b5056fea26469706673582212204a2b77ab74613e5eeae6f2815daf6a0d127dc83b2a7b2f730555b303415f7a0e64736f6c63430008040033","linkReferences":{},"deployedLinkReferences":{}}')},497:function(f,e){},516:function(f,e){},518:function(f,e){},532:function(f,e){},592:function(f,e){},594:function(f,e){},627:function(f,e){},858:function(f,e){},940:function(f,e,t){},947:function(f,e,t){"use strict";t.r(e);var n=t(5),a=t(0),c=t.n(a),b=t(75),r=t.n(b),s=t(67),i=t(16),d=t(959),o=t(962),u=t(964),l=t(957),p=t(2),j=function(f){var e=f.text,t=f.status,n=Object(a.useMemo)((function(){switch(t){case"success":return"success";case"warning":return"warning";default:return"danger"}}),[t]);return Object(p.jsx)(l.a,{variant:n,className:"my-2",children:Object(p.jsx)("span",{children:e})})},m=t(960),O=t(958),x=t(965),h=t(1),y=t(11),v=t(34),g=t.n(v),w=t(289),k=t(108),T=function(f){if(f)return f.slice(0,5)+"..."+f.slice(f.length-4,f.length)},C=function(f){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;if(f)return f.shiftedBy?f.shiftedBy(-e).toFixed(2):""},N=function(){var f=Object(y.a)(Object(h.a)().mark((function f(e){var t,n,a,c=arguments;return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:"0xffffffffffffffffffffffffffffffffffffffff",n=new e.web3.eth.Contract(w.abi,k.TokenAddress),f.next=4,n.methods.approve(k.Marketplace,t).send({from:e.defaultAccount});case 4:return a=f.sent,f.abrupt("return",a);case 6:case"end":return f.stop()}}),f)})));return function(e){return f.apply(this,arguments)}}(),A=function(){var f=Object(y.a)(Object(h.a)().mark((function f(e){var t,n;return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=new e.web3.eth.Contract(w.abi,k.TokenAddress),f.next=3,t.methods.allowance(e.defaultAccount,k.Marketplace).call();case 3:return n=f.sent,f.abrupt("return",n);case 5:case"end":return f.stop()}}),f)})));return function(e){return f.apply(this,arguments)}}(),M=t(10),S=t(477),P=t.n(S),F=["address","size"],I=function(f){var e=f.address,t=f.size,c=void 0===t?28:t,b=Object(M.a)(f,F),r=Object(a.useRef)();return Object(a.useEffect)((function(){e&&r.current&&(r.current.innerHTML="",r.current.appendChild(P()(c,parseInt(e.slice(2,10),16))))}),[e,c]),Object(p.jsx)("div",Object(n.a)(Object(n.a)({},b),{},{children:Object(p.jsx)("div",{ref:r,style:{width:"".concat(c,"px"),height:"".concat(c,"px")}})}))},L=function(f){var e=f.address,t=f.amount,n=f.symbol,a=f.destroy;return e?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(m.a,{children:[Object(p.jsxs)(m.a.Toggle,{variant:"light",align:"end",id:"dropdown-basic",className:"d-flex align-items-center border rounded-pill py-1",children:[t?Object(p.jsxs)(p.Fragment,{children:[C(t)," ",Object(p.jsxs)("span",{className:"ms-1",children:[" ",n]})]}):Object(p.jsx)(O.a,{animation:"border",size:"sm",className:"opacity-25"}),Object(p.jsx)(I,{address:e,size:28,className:"ms-2 me-1"})]}),Object(p.jsxs)(m.a.Menu,{className:"shadow-lg border-0",children:[Object(p.jsx)(m.a.Item,{href:"https://alfajores-blockscout.celo-testnet.org/address/".concat(e,"/transactions"),target:"_blank",children:Object(p.jsxs)(x.a,{direction:"horizontal",gap:2,children:[Object(p.jsx)("i",{className:"bi bi-person-circle fs-4"}),Object(p.jsx)("span",{className:"font-monospace",children:T(e)})]})}),Object(p.jsx)(m.a.Divider,{}),Object(p.jsxs)(m.a.Item,{as:"button",className:"d-flex align-items-center",onClick:function(){a()},children:[Object(p.jsx)("i",{className:"bi bi-box-arrow-right me-2 fs-4"}),"Disconnect"]})]})]})}):null},B=t.p+"static/media/logo.6ce24c58.svg",D=t(478),E=function(f){var e=f.connect,t=f.name,n=f.description,a=function(){var f=Object(y.a)(Object(h.a)().mark((function f(){return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,e();case 3:f.next=8;break;case 5:f.prev=5,f.t0=f.catch(0),console.log({e:f.t0});case 8:case"end":return f.stop()}}),f,null,[[0,5]])})));return function(){return f.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("img",{src:B,className:"App-logo",alt:"logo"}),Object(p.jsxs)("p",{children:[t,Object(p.jsx)("br",{}),Object(p.jsx)("small",{children:n})]}),Object(p.jsx)(D.a,{variant:"primary",onClick:a,children:"Connect Wallet"})]})},_=t(25),G=t(963),K=t(961),z=c.a.createContext([]),J=function(f){var e=f.children,t=Object(a.useState)(0),n=Object(i.a)(t,2),c=n[0],b=n[1],r=Object(a.useCallback)((function(){b((function(f){return f+1}))}),[b]),s=Object(a.useCallback)((function(){b((function(f){return f-1}))}),[b]);return Object(p.jsx)(z.Provider,{value:[0!==c,r,s],children:e})},U=function(){return Object(a.useContext)(z)},H=t(54),R=c.a.createContext([]),q=function(f){var e=f.children,t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],b=n[1],r=Object(a.useCallback)((function(f){var e=f.text,t=f.status,n=void 0===t?"success":t,a=f.duration,c=void 0===a?5e3:a,r=(new Date).getTime();b((function(f){return[].concat(Object(H.a)(f),[{text:e,status:n,duration:c,index:r}])})),setTimeout((function(){b((function(f){return f.filter((function(f){return f.index!==r}))}))}),c)}),[b]);return window.addNotification=r,Object(p.jsx)(R.Provider,{value:[c,r],children:e})},Q=function(){return Object(a.useContext)(R)},W=t(479),Y=function(){return function(f,e){var t=Object(s.useContractKit)(),n=t.getConnectedKit,c=t.address,b=Object(a.useState)(null),r=Object(i.a)(b,2),d=r[0],o=r[1],u=Object(a.useCallback)(Object(y.a)(Object(h.a)().mark((function t(){var a;return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:a=t.sent,o(new a.web3.eth.Contract(f,e));case 4:case"end":return t.stop()}}),t)}))),[n,f,e]);return Object(a.useEffect)((function(){c&&u()}),[c,u]),d}(W.abi,k.Marketplace)},V=function(f){var e=f.owner,t=f.name,n=f.image,a=f.description,c=f.location,b=f.price,r=f.sold,s=f.index,i=f.handleBuy;return Object(p.jsxs)("div",{className:"card mb-4",children:[Object(p.jsx)("img",{className:"card-img-top",src:n,alt:"Product"}),Object(p.jsxs)("div",{className:"position-absolute top-0 end-0 bg-warning mt-4 px-2 py-1 rounded-start",children:[r," Sold"]}),Object(p.jsxs)("div",{className:"card-body text-left p-4 position-relative",children:[Object(p.jsx)("div",{className:"translate-middle-y position-absolute top-0",children:Object(p.jsx)(I,{address:e})}),Object(p.jsx)("h2",{className:"card-title fs-4 fw-bold mt-2",children:t}),Object(p.jsx)("p",{className:"card-text mb-4",style:{minHeight:"82px"},children:a}),Object(p.jsxs)("p",{className:"card-text mt-4",children:[Object(p.jsx)("i",{className:"bi bi-geo-alt-fill"}),Object(p.jsx)("span",{children:c})]}),Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsxs)("span",{className:"btn btn-lg btn-outline-dark buyBtn fs-6 p-3",id:"n".concat(s),onClick:function(){return i(s)},children:["Buy for ",C(b,18)," cUSD"]})})]})]})},X=function(){var f=Object(y.a)(Object(h.a)().mark((function f(e){return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.t0=Number,f.next=4,e.methods.getProductsLength().call();case 4:return f.t1=f.sent,f.abrupt("return",(0,f.t0)(f.t1));case 8:f.prev=8,f.t2=f.catch(0),console.log(f.t2);case 11:case"end":return f.stop()}}),f,null,[[0,8]])})));return function(e){return f.apply(this,arguments)}}(),Z=function(){var f=Object(y.a)(Object(h.a)().mark((function f(e,t){var n;return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,e.methods.readProduct(t).call();case 3:return n=f.sent,f.abrupt("return",{index:t,owner:n[0],name:n[1],image:n[2],description:n[3],location:n[4],price:new g.a(n[5]),sold:n[6]});case 7:f.prev=7,f.t0=f.catch(0),console.log(f.t0);case 10:case"end":return f.stop()}}),f,null,[[0,7]])})));return function(e,t){return f.apply(this,arguments)}}(),$=function(){var f=Object(y.a)(Object(h.a)().mark((function f(e){var t,n,a;return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,X(e);case 3:t=f.sent,n=[],a=0;case 6:if(!(a<t)){f.next=15;break}return f.t0=n,f.next=10,Z(e,a);case 10:f.t1=f.sent,f.t0.push.call(f.t0,f.t1);case 12:a++,f.next=6;break;case 15:return f.abrupt("return",n);case 18:f.prev=18,f.t2=f.catch(0),console.log(f.t2);case 21:case"end":return f.stop()}}),f,null,[[0,18]])})));return function(e){return f.apply(this,arguments)}}(),ff=function(){var f=Object(y.a)(Object(h.a)().mark((function f(e,t,n){return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,t(function(){var f=Object(y.a)(Object(h.a)().mark((function f(t){var a;return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return a=t.defaultAccount,f.next=3,e.methods.writeProduct(n.name,n.image,n.description,n.location,n.price).send({from:a});case 3:case"end":return f.stop()}}),f)})));return function(e){return f.apply(this,arguments)}}());case 3:f.next=8;break;case 5:throw f.prev=5,f.t0=f.catch(0),new Error("\u26a0\ufe0f ".concat(f.t0));case 8:case"end":return f.stop()}}),f,null,[[0,5]])})));return function(e,t,n){return f.apply(this,arguments)}}(),ef=function(){var f=Object(y.a)(Object(h.a)().mark((function f(e,t,n,a){var c,b;return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,c=function(){var f=Object(y.a)(Object(h.a)().mark((function f(e){var t;return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=g.a,f.next=3,A(e);case 3:if(f.t1=f.sent,t=new f.t0(f.t1),!a.isGreaterThan(t)){f.next=8;break}return f.next=8,N(e,"0x".concat(a.toString(16)));case 8:case"end":return f.stop()}}),f)})));return function(e){return f.apply(this,arguments)}}(),b=function(){var f=Object(y.a)(Object(h.a)().mark((function f(t){var a;return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return a=t.defaultAccount,f.next=3,e.methods.buyProduct(n).send({from:a});case 3:case"end":return f.stop()}}),f)})));return function(e){return f.apply(this,arguments)}}(),f.next=5,t(c,b);case 5:f.next=10;break;case 7:throw f.prev=7,f.t0=f.catch(0),new Error("\u26a0\ufe0f ".concat(f.t0));case 10:case"end":return f.stop()}}),f,null,[[0,7]])})));return function(e,t,n,a){return f.apply(this,arguments)}}(),tf=c.a.createContext([]),nf=function(f){var e=f.children,t=Object(s.useContractKit)(),n=t.address,c=t.kit,b=Object(a.useState)(0),r=Object(i.a)(b,2),d=r[0],o=r[1],u=Object(a.useState)(0),l=Object(i.a)(u,2),j=l[0],m=l[1],O=U(),x=Object(i.a)(O,3),v=x[1],g=x[2],w=Object(a.useCallback)(Object(y.a)(Object(h.a)().mark((function f(){var e;return Object(h.a)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return v(),f.next=3,c.getTotalBalance(n);case 3:e=f.sent,o(e),g();case 6:case"end":return f.stop()}}),f)}))),[n,c,v,g]);Object(a.useEffect)((function(){n&&w()}),[n,w,j]);var k=Object(a.useCallback)((function(){return m((function(f){return f+1}))}),[m]);return Object(p.jsx)(tf.Provider,{value:[d,k],children:e})},af=function(){return Object(a.useContext)(tf)},cf=function(){var f=Object(s.useContractKit)(),e=f.kit,t=f.performActions,c=Y(),b=Object(a.useState)(!1),r=Object(i.a)(b,2),d=r[0],o=r[1],u=Object(a.useState)(!1),l=Object(i.a)(u,2),j=l[0],m=l[1],O=Object(a.useState)(),x=Object(i.a)(O,2),h=x[0],y=x[1],v=U(),g=Object(i.a)(v,3),w=g[1],k=g[2],T=Q(),C=Object(i.a)(T,2)[1],N=af(),M=Object(i.a)(N,2)[1];Object(a.useEffect)((function(){c&&(j||h||w&&k&&(m(!0),w(),$(c).then((function(f){y(f),m(!1),k()}))))}),[c,j,m,w,k,h]);var S=Object(a.useCallback)((function(f){c&&w&&k&&(w(),ff(c,t,f).then((function(){C({status:"success",text:"".concat(f.name," added to marketplace")}),y(void 0)})).catch((function(f){C({status:"error",text:f.message})})).finally((function(){k()})))}),[c,t,w,k,C]);window.handleAddProduct=S,window.getAllowance=function(){return A(e)};var P=Object(a.useCallback)((function(f){c&&w&&k&&(w(),ef(c,t,f,h[f].price).then((function(){C({status:"success",text:'\ud83c\udf89 You successfully bought "'.concat(h[f].name,'".')}),M(),Z(c,f).then((function(e){y((function(t){return t.map((function(t,n){return n===f?e:t}))}))})).catch((function(){return y()}))})).catch((function(f){C({status:"error",text:f.message})})).finally((function(){k()})))}),[c,t,M,h,w,k,C]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"d-flex justify-content-end my-4",children:Object(p.jsx)(D.a,{variant:"dark",className:"rounded-pill",onClick:function(){o(!0)},children:"Add product"})}),Object(p.jsx)("main",{className:"row",children:h&&h.map((function(f){return Object(p.jsx)("div",{className:"col-sm-6 col-md-4",children:Object(p.jsx)(V,Object(n.a)(Object(n.a)({},f),{},{handleBuy:P}))},f.index)}))}),d&&Object(p.jsx)(bf,{isOpen:d,close:o,onProductAdded:S})]})},bf=function(f){var e=f.isOpen,t=f.close,c=f.onProductAdded,b=Object(a.useState)({name:"aaa",image:"bbb",description:"ccc",location:"ddd",price:123,sold:0}),r=Object(i.a)(b,2),s=r[0],d=r[1],o=Object(a.useCallback)((function(f){var e=f.target;d((function(f){return Object(n.a)(Object(n.a)({},f),{},Object(_.a)({},e.name,"price"===e.name?function(f){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;if(f)return new g.a(f).shiftedBy(e)}(e.value):e.value))}))}),[d]);return Object(p.jsxs)(G.a,{show:e,onHide:function(){return t()},children:[Object(p.jsx)(G.a.Header,{closeButton:!0,children:Object(p.jsx)(G.a.Title,{children:"New product"})}),Object(p.jsx)(G.a.Body,{children:Object(p.jsxs)(K.a,{children:[Object(p.jsxs)(K.a.Group,{className:"mb-3",controlId:"productName",children:[Object(p.jsx)(K.a.Label,{children:"Name"}),Object(p.jsx)(K.a.Control,{type:"text",name:"name",onChange:o,placeholder:"Name of the product"})]}),Object(p.jsxs)(K.a.Group,{className:"mb-3",controlId:"productImage",children:[Object(p.jsx)(K.a.Label,{children:"Image"}),Object(p.jsx)(K.a.Control,{type:"text",name:"image",onChange:o,placeholder:"Image url of the product"})]}),Object(p.jsxs)(K.a.Group,{className:"mb-3",controlId:"productDescription",children:[Object(p.jsx)(K.a.Label,{children:"Description"}),Object(p.jsx)(K.a.Control,{type:"text",name:"description",onChange:o,placeholder:"Description of the product"})]}),Object(p.jsxs)(K.a.Group,{className:"mb-3",controlId:"productLocation",children:[Object(p.jsx)(K.a.Label,{children:"Location"}),Object(p.jsx)(K.a.Control,{type:"text",name:"location",onChange:o,placeholder:"Location of the product"})]}),Object(p.jsxs)(K.a.Group,{className:"mb-3",controlId:"productPrice",children:[Object(p.jsx)(K.a.Label,{children:"Price"}),Object(p.jsx)(K.a.Control,{type:"number",step:".01",name:"price",onChange:o,placeholder:"Price of the product"})]})]})}),Object(p.jsxs)(G.a.Footer,{children:[Object(p.jsx)(D.a,{variant:"secondary",onClick:function(){return t()},children:"Close"}),Object(p.jsx)(D.a,{variant:"dark",onClick:function(){t(),c(s)},children:"Add product"})]})]})},rf=(t(940),function(){return Object(p.jsx)(j,{text:"\u231b Loading...",status:"warning"})}),sf=function(f){var e=f.name,t=f.description,n=Object(s.useContractKit)(),a=n.address,c=n.destroy,b=n.connect,r=af(),l=Object(i.a)(r,1)[0],m=U(),O=Object(i.a)(m,1)[0],x=Q(),h=Object(i.a)(x,1)[0];return Object(p.jsx)(p.Fragment,{children:a?Object(p.jsxs)(d.a,{fluid:"md",children:[Object(p.jsxs)(o.a,{className:"py-3",style:{justifyContent:"space-between"},children:[Object(p.jsx)(o.a.Brand,{children:e}),Object(p.jsx)(u.a,{className:"justify-content-end",children:Object(p.jsx)(u.a.Item,{children:Object(p.jsx)(L,{address:a,amount:l.cUSD,symbol:"cUSD",destroy:c})})})]}),Object(p.jsxs)("div",{className:"sticky-top",children:[O&&Object(p.jsx)(rf,{}),h.map((function(f,e){return Object(p.jsx)(j,{status:f.status,text:f.text},e)}))]}),Object(p.jsx)("main",{children:Object(p.jsx)(cf,{})})]}):Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("header",{className:"App-header",children:Object(p.jsx)(E,{connect:b,name:e,description:t})})})})},df=function(f){f&&f instanceof Function&&t.e(3).then(t.bind(null,966)).then((function(e){var t=e.getCLS,n=e.getFID,a=e.getFCP,c=e.getLCP,b=e.getTTFB;t(f),n(f),a(f),c(f),b(f)}))},of=(t(943),t(944),t(945),{name:"Food Market DApp",description:"A basic marketplace dapp for Celo"});r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(s.ContractKitProvider,{networks:[s.Alfajores],network:{name:s.NetworkNames.Alfajores,rpcUrl:"https://alfajores-forno.celo-testnet.org",graphQl:"https://alfajores-blockscout.celo-testnet.org/graphiql",explorer:"https://alfajores-blockscout.celo-testnet.org",chainId:44787},dapp:of,children:Object(p.jsx)(J,{children:Object(p.jsx)(q,{children:Object(p.jsx)(nf,{children:Object(p.jsx)(sf,Object(n.a)({},of))})})})})}),document.getElementById("root")),df()}},[[947,1,2]]]);
//# sourceMappingURL=main.e6e426ca.chunk.js.map